{% extends 'base.html' %} {% block content %}

<h1>Restaurant Details</h1>

<div class="card">
  <div class="card-content">
    <span class="card-title">{{ restaurant.name }}</span>
    <p>City: {{ restaurant.city }}</p>
    <p>Cuisine: {{ restaurant.cuisine }}</p>
    {% if restaurant.cost > 2 %}
    <p>Cost: {{ restaurant.cost }}</p>
    {% else %}
    <p>Cost: Expensive</p>
    {% endif %}
  </div>
</div>
  <div>
    <form action="{% url 'add_review' restaurant.id %}" method="post">
      <!-- Django requires the following for security purposes -->
      {% csrf_token %}
      <table>
        <!-- Render the inputs inside of <tr>s & <td>s -->
          {{ reviews_form.as_p }}
      </table>
      <input type="submit" value="Submit!" class="btn" />
    </form>
  </div>

  {% if restaurant.reviews_set.count %} {% for review in restaurant.reviews_set.all %}
  <div class="card">
    <div class="card-content">
      <span class="card-title">
        <p>Comment: {{ review.comment }}</p>
        <p>Star Rating: {{ review.star_rating }}</p>
    </div>
  </div>
  {% endfor %} {% else %}
  <h5>No Reviews</h5>
  {% endif %}

</div>
{% endblock %}
